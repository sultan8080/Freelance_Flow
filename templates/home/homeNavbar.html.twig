<nav class="fixed top-0 w-full z-50 border-b border-white/5 bg-slate-950/70 backdrop-blur-xl">
	<div class="mx-auto px-6 h-16 flex items-center justify-between">
		<a href="{{ path('app_home') }}" class="flex items-center gap-3 group">
			<div class="relative w-8 h-8 rounded-md overflow-hidden flex items-center justify-center shadow-[0_0_15px_rgba(124,58,237,0.3)]">
				<div class="absolute inset-0 w-full h-full bg-gradient-to-br from-blue-600 to-purple-700"></div>
				<div class="absolute top-0 -left-full w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent group-hover:animate-shimmer"></div>
				<i class="fa-brands fa-slack text-white font-bold relative z-10 text-md"></i>
			</div>
			<div class="text-lg">
				<span class="text-white font-semibold">Freelance</span>
				<span class="bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent font-bold">Lucid</span>
			</div>
		</a>

		<div class="flex items-center gap-6">
			<div class="relative group">
				<button class="flex items-center gap-1.5 text-sm font-medium text-slate-100 hover:text-white transition-colors uppercase">
					<i class="fa-solid fa-earth-europe opacity-50 group-hover:opacity-100"></i>
					<span class="opacity-65 group-hover:opacity-100">{{ app.request.locale }}</span>
					<i class="fa-solid fa-chevron-down opacity-50 group-hover:opacity-100 text-xs"></i>
				</button>
				<div class="absolute right-0 top-full hidden group-hover:block pt-2 z-50">
					<div class="w-24 bg-slate-800 border border-slate-700 rounded-md shadow-lg py-1">
						{% for locale in ['en', 'fr'] %}
							{% if locale != app.request.locale %}
								<a href="{{ path(app.request.attributes.get('_route')|default('app_home'), app.request.attributes.get('_route_params', {})|merge({'_locale': locale})) }}" data-turbo="false" class="block px-4 py-2 text-sm text-slate-300 hover:bg-slate-700 hover:text-white transition-colors uppercase">
									{{ locale }}
								</a>
							{% endif %}
						{% endfor %}
					</div>
				</div>
			</div>

			<div class="h-4 w-px bg-white/20 hidden md:block whitespace-nowrap"></div>

			{% if app.user %}
				<div class="relative" data-controller="layout" data-action="click@window->layout#closeUserDropdown">
					<button data-action="click->layout#toggleUserDropdown:stop" class="flex items-center gap-3 px-3 py-1.5 rounded-xl hover:bg-white/5 transition-all active:scale-95">
						<span class="hidden sm:block text-sm font-medium text-slate-300">
							{{ 'Hi,'|trans }}
							{{ app.user.firstName }}
							{{ app.user.lastName }}
						</span>
						<div class="w-8 h-8 rounded bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center text-xs text-white font-bold shadow-lg shadow-blue-500/20">
							{{ (app.user.firstName|slice(0, 1) ~ app.user.lastName|slice(0, 1))|upper }}
						</div>
						<i data-layout-target="userChevron" class="fas fa-chevron-down text-[10px] text-slate-500 transition-transform duration-300"></i>
					</button>
					<div data-layout-target="userDropdown" class="hidden absolute right-0 mt-3 w-64 bg-slate-900/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/10 p-2 z-50 transform origin-top-right transition-all">
						<div class="px-4 py-3 mb-1 border-b border-white/5">
							<p class="text-xs text-slate-500 font-medium uppercase tracking-wider">{{ 'Signed in as'|trans }}</p>
							<p class="text-sm font-bold text-white truncate">{{ app.user.userIdentifier }}</p>
						</div>
						<a href="{{ path('dashboard_freelancer') }}" class="flex items-center gap-3 px-4 py-2.5 hover:bg-white/5 rounded-xl transition-all text-sm text-slate-300 group mt-1">
							<i class="fas fa-th-large w-4 text-center opacity-50 group-hover:text-blue-400 group-hover:opacity-100 transition"></i>
							{{ 'Dashboard'|trans }}
						</a>
						<a href="{{ path('app_profile_show') }}" class="flex items-center gap-3 px-4 py-2.5 hover:bg-white/5 rounded-xl transition-all text-sm text-slate-300 group mt-1">
							<i class="fas fa-user-circle w-5 text-center opacity-50 group-hover:text-blue-400 group-hover:opacity-100 transition"></i>
							{{ 'My Profile'|trans }}
						</a>
						<div class="my-2 border-t border-white/5"></div>
						<a href="{{ path('app_logout')|default('#') }}" class="flex items-center gap-3 px-4 py-2.5 hover:bg-red-500/10 text-red-400 rounded-xl transition-all text-sm font-semibold group">
							<i class="fas fa-sign-out-alt w-5 text-center group-hover:text-red-300"></i>
							{{ 'Logout'|trans }}
						</a>
					</div>
				</div>
			{% else %}
				<div
					class="flex items-center gap-2 sm:gap-4">

					{# --- RECRUITER BUTTON #}
					<a href="{{ path('app_guest_login') }}" class="group relative flex items-center justify-center gap-1.5 py-1.5 px-2 sm:py-2 sm:px-4 rounded-lg sm:rounded-xl border border-purple-800 bg-slate-900/20 hover:bg-slate-900/100 text-blue-200 hover:text-white transition-all duration-300 overflow-visible">

						<i class="fa-solid fa-rocket text-purple-600 group-hover:text-blue-600 transition-colors animate-pulse text-xs sm:text-sm"></i>

						{# Text Logic #}
						<span class="text-xs font-bold uppercase tracking-wider md:hidden">{{ 'Demo'|trans }}</span>
						<span class="hidden md:inline text-sm font-medium">{{ 'recruiter-access-one-click'|trans }}</span>

						{# Ping Dot #}
						<span class="absolute -top-1 -right-1 flex h-2.5 w-2.5">
							<span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-purple-400 opacity-75"></span>
							<span class="relative inline-flex rounded-full h-2.5 w-2.5 bg-purple-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]"></span>
						</span>
					</a>

					{# SIGN IN BUTTON --- #}
					<a href="{{ path('app_login') }}" class="text-slate-300 hover:text-white transition-colors p-2 flex items-center">
						<span class="sm:hidden block">
							<i class="fa-solid fa-right-to-bracket text-md"></i>
						</span>
						<span class="hidden sm:block text-sm font-medium">{{ 'Sign in'|trans }}</span>
					</a>

					{#  SIGN UP BUTTON --- #}
					<a href="{{ path('app_register') }}" class="group relative px-2 py-1 sm:px-5 sm:py-2 rounded-lg sm:rounded-xl overflow-hidden transition-all duration-300">
						<div class="absolute inset-0 w-full h-full bg-gradient-to-r from-blue-600 to-purple-700 opacity-90 group-hover:opacity-100 transition-opacity"></div>
						<div class="absolute top-0 -left-full w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent group-hover:animate-shimmer"></div>
						<span class="hidden sm:block relative text-xs sm:text-sm font-semibold text-white whitespace-nowrap">{{ 'Sign up'|trans }}</span>
						<span class="sm:hidden block text-slate-200 hover:text-white relative  whitespace-nowrap">
							<i class="fa-solid fa-user-plus text-sm"></i>
						</span>
					</a>
				</div>
			{% endif %}
		</div>
	</div>
</nav>
